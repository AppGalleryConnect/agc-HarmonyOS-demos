"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.addHeaders=exports.voilidatePath=exports.regx=exports.urlValidate=void 0;var error_1=require("../error/error"),error_message_1=require("../error/error-message"),common_log_1=require("../log-config/common-log"),fs_1=__importDefault(require("fs"));function urlValidate(r){common_log_1.logger.info("step into method urlValidate");return!r.match(/\s/g)&&regx(r,/^(ht)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?/)}function regx(r,e){return!!r.match(e)&&(common_log_1.logger.info("step into method  reg match in regx"),!0)}function voilidatePath(r){if(!r)throw new error_1.AGCError(error_message_1.ErrorCodeConstant.FILE_NOT_EXSIT);if(!fs_1.default.existsSync(r))throw new error_1.AGCError(error_message_1.ErrorCodeConstant.FILE_NOT_EXSIT);if(!fs_1.default.statSync(r).isFile())throw new error_1.AGCError(error_message_1.ErrorCodeConstant.NOT_A_FILE);try{fs_1.default.accessSync(r,fs_1.default.constants.R_OK)}catch(r){throw new error_1.AGCError(error_message_1.ErrorCodeConstant.FILE_NO_READ_PERMISSION)}return!0}function addHeaders(r,e){return common_log_1.logger.info("step into method addHeaders"),Object.assign(r,e)}exports.urlValidate=urlValidate,exports.regx=regx,exports.voilidatePath=voilidatePath,exports.addHeaders=addHeaders;